{"version":3,"file":"static/js/122.7c8a84b9.chunk.js","mappings":"sSAEMA,E,OAAWC,EAAAA,OAAa,CAC5BC,QAAS,+BACTC,OAAQ,CACNC,QAAS,sCAIAC,EAAS,mCAAG,sGACAL,EAASM,IAAI,uBADb,uBACfC,EADe,EACfA,KADe,kBAGhBA,GAHgB,2CAAH,qDAMTC,EAAc,mCAAG,WAAMC,GAAN,yFACLT,EAASM,IAAI,gBAAiB,CACnDH,OAAQ,CACNM,MAAAA,EACAC,KAAM,EACNC,cAAc,KALU,uBACpBJ,EADoB,EACpBA,KADoB,kBASrBA,GATqB,2CAAH,sDAYdK,EAAe,mCAAG,WAAMC,GAAN,yFACNb,EAASM,IAAT,iBAAuBO,GAAM,CAClDV,OAAQ,CACNW,SAAU,WAHe,uBACrBP,EADqB,EACrBA,KADqB,kBAOtBA,GAPsB,2CAAH,sDAUfQ,EAAe,mCAAG,WAAMF,GAAN,yFACNb,EAASM,IAAT,iBAAuBO,EAAvB,aADM,uBACrBN,EADqB,EACrBA,KADqB,kBAGtBA,GAHsB,2CAAH,sDAMfS,EAAe,mCAAG,WAAMH,GAAN,yFACNb,EAASM,IAAT,iBAAuBO,EAAvB,aADM,uBACrBN,EADqB,EACrBA,KADqB,kBAGtBA,GAHsB,2CAAH,qD,+IC1C5B,EAA+B,4CAA/B,EAA2F,6CAA3F,EAAwJ,6C,SCqDxJ,EA/C4B,WAC1B,OAA0BU,EAAAA,EAAAA,UAAS,IAAnC,eAAOC,EAAP,KAAcC,EAAd,KACA,GAA8BF,EAAAA,EAAAA,WAAS,GAAvC,eAAOG,EAAP,KAAgBC,EAAhB,KACA,GAA0BJ,EAAAA,EAAAA,UAAS,MAAnC,eAAOK,EAAP,KAAcC,EAAd,KAEQC,GAAYC,EAAAA,EAAAA,MAAZD,SACRE,EAAAA,EAAAA,YAAU,WACR,IAAMC,EAAW,mCAAG,sGAEhBN,GAAW,GAFK,UAGUL,EAAAA,EAAAA,IAAgBQ,GAH1B,gBAGRI,EAHQ,EAGRA,QACRT,EAASS,GAJO,gDAMhBL,EAAS,EAAD,IANQ,yBAQhBF,GAAW,GARK,4EAAH,qDAYjBM,GACD,GAAE,CAACH,IAEJ,IAAMK,EAAWX,EAAMY,KAAI,SAAAC,GACzB,IAAQlB,EAAoCkB,EAApClB,GAAImB,EAAgCD,EAAhCC,OAAQC,EAAwBF,EAAxBE,WAAYC,EAAYH,EAAZG,QAChC,OACE,gBAAaC,UAAWC,EAAxB,WACE,eAAGD,UAAWC,EAAd,UACGH,EAAWI,MAAM,EAAG,IADvB,OACgCL,EADhC,QAGA,cAAGG,UAAWC,EAAd,SAAqCF,MAJ9BrB,EAOZ,IAED,OACE,2BACGO,IAAW,SAACkB,EAAA,EAAD,IACXhB,IAAS,uBAAIA,EAAMiB,UACnBrB,EAAMsB,OAAS,GACd,wBAAKX,KAEL,qEAIP,C","sources":["api/films.js","webpack://react-homework-template/./src/components/MovieDetailsReviews/movie-details-reviews.module.scss?c95f","components/MovieDetailsReviews/MovieDetailsReviews.jsx"],"sourcesContent":["import axios from 'axios';\n\nconst instance = axios.create({\n  baseURL: 'https://api.themoviedb.org/3',\n  params: {\n    api_key: '0d2c8f8ee54bc3ab0aecf9b789c7f474',\n  },\n});\n\nexport const getMovies = async () => {\n  const { data } = await instance.get('/trending/movie/day');\n\n  return data;\n};\n\nexport const getSearchMovie = async query => {\n  const { data } = await instance.get('/search/movie', {\n    params: {\n      query,\n      page: 1,\n      include_adul: false,\n    },\n  });\n\n  return data;\n};\n\nexport const getMovieDetails = async id => {\n  const { data } = await instance.get(`/movie/${id}`, {\n    params: {\n      language: 'en-US',\n    },\n  });\n\n  return data;\n};\n\nexport const getMovieCredits = async id => {\n  const { data } = await instance.get(`/movie/${id}/credits`);\n\n  return data;\n};\n\nexport const getMovieReviews = async id => {\n  const { data } = await instance.get(`/movie/${id}/reviews`);\n\n  return data;\n};\n","// extracted by mini-css-extract-plugin\nexport default {\"box__reviews\":\"movie-details-reviews_box__reviews__M+LIu\",\"reviews__name\":\"movie-details-reviews_reviews__name__rWUsm\",\"reviews__text\":\"movie-details-reviews_reviews__text__cjTk2\"};","import { useParams } from 'react-router-dom';\nimport { useEffect, useState } from 'react';\n\nimport { getMovieReviews } from 'api/films';\nimport Loader from 'components/Loader/Loader';\nimport styles from './movie-details-reviews.module.scss';\n\nconst MovieDetailsReviews = () => {\n  const [items, setItems] = useState([]);\n  const [loading, setLoading] = useState(false);\n  const [error, setError] = useState(null);\n\n  const { movieId } = useParams();\n  useEffect(() => {\n    const fetchMovies = async () => {\n      try {\n        setLoading(true);\n        const { results } = await getMovieReviews(movieId);\n        setItems(results);\n      } catch (error) {\n        setError(error);\n      } finally {\n        setLoading(false);\n      }\n    };\n\n    fetchMovies();\n  }, [movieId]);\n\n  const elements = items.map(element => {\n    const { id, author, created_at, content } = element;\n    return (\n      <li key={id} className={styles.box__reviews}>\n        <p className={styles.reviews__name}>\n          {created_at.slice(0, 10)} | \"{author}\"\n        </p>\n        <p className={styles.reviews__text}>{content}</p>\n      </li>\n    );\n  });\n\n  return (\n    <div>\n      {loading && <Loader />}\n      {error && <p>{error.message}</p>}\n      {items.length > 0 ? (\n        <ul>{elements}</ul>\n      ) : (\n        <p>We dont have any reviews for this movie</p>\n      )}\n    </div>\n  );\n};\n\nexport default MovieDetailsReviews;\n"],"names":["instance","axios","baseURL","params","api_key","getMovies","get","data","getSearchMovie","query","page","include_adul","getMovieDetails","id","language","getMovieCredits","getMovieReviews","useState","items","setItems","loading","setLoading","error","setError","movieId","useParams","useEffect","fetchMovies","results","elements","map","element","author","created_at","content","className","styles","slice","Loader","message","length"],"sourceRoot":""}